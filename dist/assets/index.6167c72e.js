import{i as ke,u as we,e as k,g as ie,c as A,a as o,d as P,b as X,f as Oe,n as w,m as h,h as xe,w as _,r as Ie,j as ze,B as Pe,I as Z,t as T,k as j,l as y,o as Be,p as se,q as Te,s as p,v as pe,x as ce,T as re,y as Ae,z as J,A as ue,C as de,D as _e,E as fe,F as Ee,G as $e,P as De,H as Re,J as W,K as Le,L as Me,M as Q,N as Ne,O as Ue,Q as Ke,R as Ye,S as je,U as Fe,V as He,W as Xe,X as Ve,Y as qe,Z as Ge,_ as We,$ as K,a0 as I}from"./index.cde0c31d.js";ke();const Ze=e=>e.stopPropagation();function ee(e,n){(typeof e.cancelable!="boolean"||e.cancelable)&&e.preventDefault(),n&&Ze(e)}we();function ve(e){const n=ie();n&&k(n.proxy,e)}const[Je,L]=A("loading"),Qe=Array(12).fill(null).map((e,n)=>o("i",{class:L("line",String(n+1))},null)),en=o("svg",{class:L("circular"),viewBox:"25 25 50 50"},[o("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),nn={size:w,type:h("circular"),color:String,vertical:Boolean,textSize:w,textColor:String};var tn=P({name:Je,props:nn,setup(e,{slots:n}){const t=X(()=>k({color:e.color},Oe(e.size))),i=()=>{var a;if(n.default)return o("span",{class:L("text"),style:{fontSize:xe(e.textSize),color:(a=e.textColor)!=null?a:e.color}},[n.default()])};return()=>{const{type:a,vertical:l}=e;return o("div",{class:L([a,{vertical:l}]),"aria-live":"polite","aria-busy":!0},[o("span",{class:L("spinner",a),style:t.value},[a==="spinner"?Qe:en]),i()])}}});const ye=_(tn),[on,B]=A("button"),an=k({},Ie,{tag:h("button"),text:String,icon:String,type:h("default"),size:h("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:h("button"),loadingSize:w,loadingText:String,loadingType:String,iconPosition:h("left")});var ln=P({name:on,props:an,emits:["click"],setup(e,{emit:n,slots:t}){const i=ze(),a=()=>t.loading?t.loading():o(ye,{size:e.loadingSize,type:e.loadingType,class:B("loading")},null),l=()=>{if(e.loading)return a();if(t.icon)return o("div",{class:B("icon")},[t.icon()]);if(e.icon)return o(Z,{name:e.icon,class:B("icon"),classPrefix:e.iconPrefix},null)},s=()=>{let c;if(e.loading?c=e.loadingText:c=t.default?t.default():e.text,c)return o("span",{class:B("text")},[c])},d=()=>{const{color:c,plain:r}=e;if(c){const u={color:r?c:"white"};return r||(u.background=c),c.includes("gradient")?u.border=0:u.borderColor=c,u}},v=c=>{e.loading?ee(c):e.disabled||(n("click",c),i())};return()=>{const{tag:c,type:r,size:u,block:m,round:g,plain:S,square:z,loading:O,disabled:M,hairline:N,nativeType:q,iconPosition:E}=e,f=[B([r,u,{plain:S,block:m,round:g,square:z,loading:O,disabled:M,hairline:N}]),{[Pe]:N}];return o(c,{type:q,class:f,style:d(),disabled:M,onClick:v},{default:()=>[o("div",{class:B("content")},[E==="left"&&l(),s(),E==="right"&&l()])]})}}});const sn=_(ln),cn={show:Boolean,zIndex:w,overlay:T,duration:w,teleport:[String,Object],lockScroll:T,lazyRender:T,beforeClose:Function,overlayStyle:Object,overlayClass:j,transitionAppear:Boolean,closeOnClickOverlay:T};function rn(e,n){return e>n?"horizontal":n>e?"vertical":""}function un(){const e=y(0),n=y(0),t=y(0),i=y(0),a=y(0),l=y(0),s=y(""),d=()=>s.value==="vertical",v=()=>s.value==="horizontal",c=()=>{t.value=0,i.value=0,a.value=0,l.value=0,s.value=""};return{move:m=>{const g=m.touches[0];t.value=(g.clientX<0?0:g.clientX)-e.value,i.value=g.clientY-n.value,a.value=Math.abs(t.value),l.value=Math.abs(i.value);const S=10;(!s.value||a.value<S&&l.value<S)&&(s.value=rn(a.value,l.value))},start:m=>{c(),e.value=m.touches[0].clientX,n.value=m.touches[0].clientY},reset:c,startX:e,startY:n,deltaX:t,deltaY:i,offsetX:a,offsetY:l,direction:s,isVertical:d,isHorizontal:v}}let $=0;const te="van-overflow-hidden";function dn(e,n){const t=un(),i="01",a="10",l=r=>{t.move(r);const u=t.deltaY.value>0?a:i,m=pe(r.target,e.value),{scrollHeight:g,offsetHeight:S,scrollTop:z}=m;let O="11";z===0?O=S>=g?"00":"01":z+S>=g&&(O="10"),O!=="11"&&t.isVertical()&&!(parseInt(O,2)&parseInt(u,2))&&ee(r,!0)},s=()=>{document.addEventListener("touchstart",t.start),document.addEventListener("touchmove",l,{passive:!1}),$||document.body.classList.add(te),$++},d=()=>{$&&(document.removeEventListener("touchstart",t.start),document.removeEventListener("touchmove",l),$--,$||document.body.classList.remove(te))},v=()=>n()&&s(),c=()=>n()&&d();Be(v),se(c),Te(c),p(n,r=>{r?s():d()})}function me(e){const n=y(!1);return p(e,t=>{t&&(n.value=t)},{immediate:!0}),t=>()=>n.value?t():null}const[fn,vn]=A("overlay"),yn={show:Boolean,zIndex:w,duration:w,className:j,lockScroll:T,lazyRender:T,customStyle:Object};var mn=P({name:fn,props:yn,setup(e,{slots:n}){const t=y(),i=me(()=>e.show||!e.lazyRender),a=s=>{e.lockScroll&&ee(s,!0)},l=i(()=>{var s;const d=k(Ae(e.zIndex),e.customStyle);return J(e.duration)&&(d.animationDuration=`${e.duration}s`),ue(o("div",{ref:t,style:d,class:[vn(),e.className]},[(s=n.default)==null?void 0:s.call(n)]),[[de,e.show]])});return ce("touchmove",a,{target:t}),()=>o(re,{name:"van-fade",appear:!0},{default:l})}});const gn=_(mn),hn=k({},cn,{round:Boolean,position:h("center"),closeIcon:h("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:h("top-right"),safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[Sn,oe]=A("popup");var bn=P({name:Sn,inheritAttrs:!1,props:hn,emits:["open","close","opened","closed","keydown","update:show","click-overlay","click-close-icon"],setup(e,{emit:n,attrs:t,slots:i}){let a,l;const s=y(),d=y(),v=me(()=>e.show||!e.lazyRender),c=X(()=>{const f={zIndex:s.value};if(J(e.duration)){const x=e.position==="center"?"animationDuration":"transitionDuration";f[x]=`${e.duration}s`}return f}),r=()=>{a||(a=!0,s.value=e.zIndex!==void 0?+e.zIndex:Le(),n("open"))},u=()=>{a&&Me(e.beforeClose,{done(){a=!1,n("close"),n("update:show",!1)}})},m=f=>{n("click-overlay",f),e.closeOnClickOverlay&&u()},g=()=>{if(e.overlay)return o(gn,{show:e.show,class:e.overlayClass,zIndex:s.value,duration:e.duration,customStyle:e.overlayStyle,role:e.closeOnClickOverlay?"button":void 0,tabindex:e.closeOnClickOverlay?0:void 0,onClick:m},{default:i["overlay-content"]})},S=f=>{n("click-close-icon",f),u()},z=()=>{if(e.closeable)return o(Z,{role:"button",tabindex:0,name:e.closeIcon,class:[oe("close-icon",e.closeIconPosition),Ne],classPrefix:e.iconPrefix,onClick:S},null)},O=()=>n("opened"),M=()=>n("closed"),N=f=>n("keydown",f),q=v(()=>{var f;const{round:x,position:U,safeAreaInsetTop:G,safeAreaInsetBottom:Ce}=e;return ue(o("div",Q({ref:d,style:c.value,role:"dialog",tabindex:0,class:[oe({round:x,[U]:U}),{"van-safe-area-top":G,"van-safe-area-bottom":Ce}],onKeydown:N},t),[(f=i.default)==null?void 0:f.call(i),z()]),[[de,e.show]])}),E=()=>{const{position:f,transition:x,transitionAppear:U}=e,G=f==="center"?"van-fade":`van-popup-slide-${f}`;return o(re,{name:x||G,appear:U,onAfterEnter:O,onAfterLeave:M},{default:q})};return p(()=>e.show,f=>{f&&!a&&(r(),t.tabindex===0&&_e(()=>{var x;(x=d.value)==null||x.focus()})),!f&&a&&(a=!1,n("close"))}),ve({popupRef:d}),dn(d,()=>e.show&&e.lockScroll),ce("popstate",()=>{e.closeOnPopstate&&(u(),l=!1)}),fe(()=>{e.show&&r()}),Ee(()=>{l&&(n("update:show",!0),l=!1)}),se(()=>{e.show&&e.teleport&&(u(),l=!0)}),$e(De,()=>e.show),()=>e.teleport?o(Re,{to:e.teleport},{default:()=>[g(),E()]}):o(W,null,[g(),E()])}});const Cn=_(bn);function kn(){const e=Ke({show:!1}),n=a=>{e.show=a},t=a=>{k(e,a,{transitionAppear:!0}),n(!0)},i=()=>n(!1);return ve({open:t,close:i,toggle:n}),{open:t,close:i,state:e,toggle:n}}function wn(e){const n=Ue(e),t=document.createElement("div");return document.body.appendChild(t),{instance:n.mount(t),unmount(){n.unmount(),document.body.removeChild(t)}}}let D=0;function On(e){e?(D||document.body.classList.add("van-toast--unclickable"),D++):D&&(D--,D||document.body.classList.remove("van-toast--unclickable"))}const[xn,R]=A("toast"),In=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay"],zn={icon:String,show:Boolean,type:h("text"),overlay:Boolean,message:w,iconSize:w,duration:Fe(2e3),position:h("middle"),teleport:[String,Object],className:j,iconPrefix:String,transition:h("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:j,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean};var ge=P({name:xn,props:zn,emits:["update:show"],setup(e,{emit:n}){let t,i=!1;const a=()=>{const r=e.show&&e.forbidClick;i!==r&&(i=r,On(i))},l=r=>n("update:show",r),s=()=>{e.closeOnClick&&l(!1)},d=()=>clearTimeout(t),v=()=>{const{icon:r,type:u,iconSize:m,iconPrefix:g,loadingType:S}=e;if(r||u==="success"||u==="fail")return o(Z,{name:r||u,size:m,class:R("icon"),classPrefix:g},null);if(u==="loading")return o(ye,{class:R("loading"),size:m,type:S},null)},c=()=>{const{type:r,message:u}=e;if(J(u)&&u!=="")return r==="html"?o("div",{key:0,class:R("text"),innerHTML:String(u)},null):o("div",{class:R("text")},[u])};return p(()=>[e.show,e.forbidClick],a),p(()=>[e.show,e.type,e.message,e.duration],()=>{d(),e.show&&e.duration>0&&(t=setTimeout(()=>{l(!1)},e.duration))}),fe(a),Ye(a),()=>o(Cn,Q({class:[R([e.position,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:s,onClosed:d,"onUpdate:show":l},je(e,In)),{default:()=>[v(),c()]})}});const he={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let b=[],V=!1,F=k({},he);const H=new Map;function Se(e){return Xe(e)?e:{message:e}}function Pn(){const{instance:e,unmount:n}=wn({setup(){const t=y(""),{open:i,state:a,close:l,toggle:s}=kn(),d=()=>{V&&(b=b.filter(c=>c!==e),n())},v=()=>o(ge,Q(a,{onClosed:d,"onUpdate:show":s}),null);return p(t,c=>{a.message=c}),ie().render=v,{open:i,clear:l,message:t}}});return e}function Bn(){if(!b.length||V){const e=Pn();b.push(e)}return b[b.length-1]}function C(e={}){if(!He)return{};const n=Bn(),t=Se(e);return n.open(k({},F,H.get(t.type||F.type),t)),n}const ne=e=>n=>C(k({type:e},Se(n)));C.loading=ne("loading");C.success=ne("success");C.fail=ne("fail");C.clear=e=>{var n;b.length&&(e?(b.forEach(t=>{t.clear()}),b=[]):V?(n=b.shift())==null||n.clear():b[0].clear())};function Tn(e,n){typeof e=="string"?H.set(e,n):k(F,e)}C.setDefaultOptions=Tn;C.resetDefaultOptions=e=>{typeof e=="string"?H.delete(e):(F=k({},he),H.clear())};C.allowMultiple=(e=!0)=>{V=e};C.install=e=>{e.use(_(ge)),e.config.globalProperties.$toast=C};const[ae,pn]=A("space"),An={align:String,direction:{type:String,default:"horizontal"},size:{type:[Number,String,Array],default:8},wrap:Boolean,fill:Boolean};function be(e=[]){const n=[];return e.forEach(t=>{Array.isArray(t)?n.push(...t):t.type===W?n.push(...be(t.children)):n.push(t)}),n.filter(t=>{var i;return!(t&&(typeof Comment<"u"&&t.type===Comment||t.type===W&&((i=t.children)==null?void 0:i.length)===0||t.type===Text&&t.children.trim()===""))})}var _n=P({name:ae,props:An,setup(e,{slots:n}){const t=X(()=>{var l;return(l=e.align)!=null?l:e.direction==="horizontal"?"center":""}),i=l=>typeof l=="number"?l+"px":l,a=l=>{const s={},d=`${i(Array.isArray(e.size)?e.size[0]:e.size)}`,v=`${i(Array.isArray(e.size)?e.size[1]:e.size)}`;return l?e.wrap?{marginBottom:v}:{}:(e.direction==="horizontal"&&(s.marginRight=d),(e.direction==="vertical"||e.wrap)&&(s.marginBottom=v),s)};return()=>{var l;const s=be((l=n.default)==null?void 0:l.call(n));return o("div",{class:[pn({[e.direction]:e.direction,[`align-${t.value}`]:t.value,wrap:e.wrap,fill:e.fill})]},[s.map((d,v)=>o("div",{key:`item-${v}`,class:`${ae}-item`,style:a(v===s.length-1)},[d]))])}}});const le=_(_n);function En(e){const n=y({});function t(){n.value=C.loading(e)}function i(){n.value.clear()}return{start:t,clear:i}}function $n(){const e=Ve(),n=X(()=>e.count);function t(){e.increment()}return{count:n,handleClick:t}}const Dn={getInfo(){return qe.get("/demo/info")}};function Rn(){const e=y("-");async function n(){const{start:t,clear:i}=En({message:"\u52A0\u8F7D\u4E2D",duration:0,forbidClick:!0});try{t();const a=await Dn.getInfo();e.value=a.title}finally{i()}}return Ge(()=>{n()}),{title:e}}const Ln="view__KzK0f",Mn="section__BVOox",Y={view:Ln,section:Mn},Un=P({name:We.INDEX.name,setup(){const{...e}=$n(),{...n}=Rn();return{...e,...n}},render(){return o("div",{class:Y.view},[o("h2",null,[this.title]),o("div",{class:Y.section},[o("h3",null,[K("Store")]),o("p",null,[this.count]),o(sn,{type:"primary",onClick:this.handleClick},{default:()=>[K("\u70B9\u51FB")]})]),o("div",{class:Y.section},[o("h3",null,[K("\u6846\u67B6\u56FE\u6807")]),o(le,null,{default:()=>[o(I,{icon:"ant-design:account-book-filled"},null),o(I,{icon:"ant-design:aim-outlined"},null),o(I,{icon:"ant-design:alert-filled"},null)]})]),o("div",{class:Y.section},[o("h3",null,[K("\u81EA\u5B9A\u4E49\u56FE\u6807")]),o(le,null,{default:()=>[o(I,{icon:"custom:coffee"},null),o(I,{icon:"custom:chips"},null),o(I,{icon:"custom:ice-cream"},null),o(I,{icon:"custom-coke"},null),o(I,{icon:"custom-hamburg"},null)]})])])}});export{Un as default};
