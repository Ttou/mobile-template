import{e as b,g as te,c as A,a as o,d as O,b as j,f as ge,n as S,m as h,h as he,w as _,r as ke,u as Ce,B as Se,I as V,p as q,t as P,i as Y,j as g,o as be,k as oe,l as we,q as T,s as xe,v as ae,T as le,x as Ie,y as G,z as ie,A as se,C as Oe,D as ce,E as ze,F as Be,P as Pe,G as Te,H as X,J as Ae,K as _e,L as Z,M as Ee,N as $e,O as De,Q as pe,R as Re,S as Le,U as Ne,V as Me,W as Ue,X as Ke,Y as Ye,Z as je,_ as M,$ as I}from"./index.6328ae91.js";function re(e){const n=te();n&&b(n.proxy,e)}const[Fe,p]=A("loading"),He=Array(12).fill(null).map((e,n)=>o("i",{class:p("line",String(n+1))},null)),Xe=o("svg",{class:p("circular"),viewBox:"25 25 50 50"},[o("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),Ve={size:S,type:h("circular"),color:String,vertical:Boolean,textSize:S,textColor:String};var qe=O({name:Fe,props:Ve,setup(e,{slots:n}){const t=j(()=>b({color:e.color},ge(e.size))),s=()=>{const a=e.type==="spinner"?He:Xe;return o("span",{class:p("spinner",e.type),style:t.value},[n.icon?n.icon():a])},i=()=>{var a;if(n.default)return o("span",{class:p("text"),style:{fontSize:he(e.textSize),color:(a=e.textColor)!=null?a:e.color}},[n.default()])};return()=>{const{type:a,vertical:l}=e;return o("div",{class:p([a,{vertical:l}]),"aria-live":"polite","aria-busy":!0},[s(),i()])}}});const ue=_(qe),[Ge,z]=A("button"),Ze=b({},ke,{tag:h("button"),text:String,icon:String,type:h("default"),size:h("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:h("button"),loadingSize:S,loadingText:String,loadingType:String,iconPosition:h("left")});var We=O({name:Ge,props:Ze,emits:["click"],setup(e,{emit:n,slots:t}){const s=Ce(),i=()=>t.loading?t.loading():o(ue,{size:e.loadingSize,type:e.loadingType,class:z("loading")},null),a=()=>{if(e.loading)return i();if(t.icon)return o("div",{class:z("icon")},[t.icon()]);if(e.icon)return o(V,{name:e.icon,class:z("icon"),classPrefix:e.iconPrefix},null)},l=()=>{let c;if(e.loading?c=e.loadingText:c=t.default?t.default():e.text,c)return o("span",{class:z("text")},[c])},u=()=>{const{color:c,plain:m}=e;if(c){const r={color:m?c:"white"};return m||(r.background=c),c.includes("gradient")?r.border=0:r.borderColor=c,r}},v=c=>{e.loading?q(c):e.disabled||(n("click",c),s())};return()=>{const{tag:c,type:m,size:r,block:d,round:y,plain:k,square:w,loading:C,disabled:R,hairline:L,nativeType:F,iconPosition:E}=e,f=[z([m,r,{plain:k,block:d,round:y,square:w,loading:C,disabled:R,hairline:L}]),{[Se]:L}];return o(c,{type:F,class:f,style:u(),disabled:R,onClick:v},{default:()=>[o("div",{class:z("content")},[E==="left"&&a(),l(),E==="right"&&a()])]})}}});const Je=_(We),Qe={show:Boolean,zIndex:S,overlay:P,duration:S,teleport:[String,Object],lockScroll:P,lazyRender:P,beforeClose:Function,overlayStyle:Object,overlayClass:Y,transitionAppear:Boolean,closeOnClickOverlay:P};function en(e,n){return e>n?"horizontal":n>e?"vertical":""}function nn(){const e=g(0),n=g(0),t=g(0),s=g(0),i=g(0),a=g(0),l=g(""),u=()=>l.value==="vertical",v=()=>l.value==="horizontal",c=()=>{t.value=0,s.value=0,i.value=0,a.value=0,l.value=""};return{move:d=>{const y=d.touches[0];t.value=(y.clientX<0?0:y.clientX)-e.value,s.value=y.clientY-n.value,i.value=Math.abs(t.value),a.value=Math.abs(s.value);const k=10;(!l.value||i.value<k&&a.value<k)&&(l.value=en(i.value,a.value))},start:d=>{c(),e.value=d.touches[0].clientX,n.value=d.touches[0].clientY},reset:c,startX:e,startY:n,deltaX:t,deltaY:s,offsetX:i,offsetY:a,direction:l,isVertical:u,isHorizontal:v}}let $=0;const W="van-overflow-hidden";function tn(e,n){const t=nn(),s="01",i="10",a=m=>{t.move(m);const r=t.deltaY.value>0?i:s,d=xe(m.target,e.value),{scrollHeight:y,offsetHeight:k,scrollTop:w}=d;let C="11";w===0?C=k>=y?"00":"01":w+k>=y&&(C="10"),C!=="11"&&t.isVertical()&&!(parseInt(C,2)&parseInt(r,2))&&q(m,!0)},l=()=>{document.addEventListener("touchstart",t.start),document.addEventListener("touchmove",a,{passive:!1}),$||document.body.classList.add(W),$++},u=()=>{$&&(document.removeEventListener("touchstart",t.start),document.removeEventListener("touchmove",a),$--,$||document.body.classList.remove(W))},v=()=>n()&&l(),c=()=>n()&&u();be(v),oe(c),we(c),T(n,m=>{m?l():u()})}function de(e){const n=g(!1);return T(e,t=>{t&&(n.value=t)},{immediate:!0}),t=>()=>n.value?t():null}const[on,an]=A("overlay"),ln={show:Boolean,zIndex:S,duration:S,className:Y,lockScroll:P,lazyRender:P,customStyle:Object};var sn=O({name:on,props:ln,setup(e,{slots:n}){const t=g(),s=de(()=>e.show||!e.lazyRender),i=l=>{e.lockScroll&&q(l,!0)},a=s(()=>{var l;const u=b(Ie(e.zIndex),e.customStyle);return G(e.duration)&&(u.animationDuration=`${e.duration}s`),ie(o("div",{ref:t,style:u,class:[an(),e.className]},[(l=n.default)==null?void 0:l.call(n)]),[[se,e.show]])});return ae("touchmove",i,{target:t}),()=>o(le,{name:"van-fade",appear:!0},{default:a})}});const cn=_(sn),rn=b({},Qe,{round:Boolean,position:h("center"),closeIcon:h("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:h("top-right"),safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[un,J]=A("popup");var dn=O({name:un,inheritAttrs:!1,props:rn,emits:["open","close","opened","closed","keydown","update:show","clickOverlay","clickCloseIcon"],setup(e,{emit:n,attrs:t,slots:s}){let i,a;const l=g(),u=g(),v=de(()=>e.show||!e.lazyRender),c=j(()=>{const f={zIndex:l.value};if(G(e.duration)){const x=e.position==="center"?"animationDuration":"transitionDuration";f[x]=`${e.duration}s`}return f}),m=()=>{i||(i=!0,l.value=e.zIndex!==void 0?+e.zIndex:Ae(),n("open"))},r=()=>{i&&_e(e.beforeClose,{done(){i=!1,n("close"),n("update:show",!1)}})},d=f=>{n("clickOverlay",f),e.closeOnClickOverlay&&r()},y=()=>{if(e.overlay)return o(cn,{show:e.show,class:e.overlayClass,zIndex:l.value,duration:e.duration,customStyle:e.overlayStyle,role:e.closeOnClickOverlay?"button":void 0,tabindex:e.closeOnClickOverlay?0:void 0,onClick:d},{default:s["overlay-content"]})},k=f=>{n("clickCloseIcon",f),r()},w=()=>{if(e.closeable)return o(V,{role:"button",tabindex:0,name:e.closeIcon,class:[J("close-icon",e.closeIconPosition),Ee],classPrefix:e.iconPrefix,onClick:k},null)},C=()=>n("opened"),R=()=>n("closed"),L=f=>n("keydown",f),F=v(()=>{var f;const{round:x,position:N,safeAreaInsetTop:H,safeAreaInsetBottom:ye}=e;return ie(o("div",Z({ref:u,style:c.value,role:"dialog",tabindex:0,class:[J({round:x,[N]:N}),{"van-safe-area-top":H,"van-safe-area-bottom":ye}],onKeydown:L},t),[(f=s.default)==null?void 0:f.call(s),w()]),[[se,e.show]])}),E=()=>{const{position:f,transition:x,transitionAppear:N}=e,H=f==="center"?"van-fade":`van-popup-slide-${f}`;return o(le,{name:x||H,appear:N,onAfterEnter:C,onAfterLeave:R},{default:F})};return T(()=>e.show,f=>{f&&!i&&(m(),t.tabindex===0&&Oe(()=>{var x;(x=u.value)==null||x.focus()})),!f&&i&&(i=!1,n("close"))}),re({popupRef:u}),tn(u,()=>e.show&&e.lockScroll),ae("popstate",()=>{e.closeOnPopstate&&(r(),a=!1)}),ce(()=>{e.show&&m()}),ze(()=>{a&&(n("update:show",!0),a=!1)}),oe(()=>{e.show&&e.teleport&&(r(),a=!0)}),Be(Pe,()=>e.show),()=>e.teleport?o(Te,{to:e.teleport},{default:()=>[y(),E()]}):o(X,null,[y(),E()])}});const fn=_(dn);let D=0;function vn(e){e?(D||document.body.classList.add("van-toast--unclickable"),D++):D&&(D--,D||document.body.classList.remove("van-toast--unclickable"))}const[mn,B]=A("toast"),yn=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay"],gn={icon:String,show:Boolean,type:h("text"),overlay:Boolean,message:S,iconSize:S,duration:pe(2e3),position:h("middle"),teleport:[String,Object],wordBreak:String,className:Y,iconPrefix:String,transition:h("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:Y,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean};var fe=O({name:mn,props:gn,emits:["update:show"],setup(e,{emit:n,slots:t}){let s,i=!1;const a=()=>{const r=e.show&&e.forbidClick;i!==r&&(i=r,vn(i))},l=r=>n("update:show",r),u=()=>{e.closeOnClick&&l(!1)},v=()=>clearTimeout(s),c=()=>{const{icon:r,type:d,iconSize:y,iconPrefix:k,loadingType:w}=e;if(r||d==="success"||d==="fail")return o(V,{name:r||d,size:y,class:B("icon"),classPrefix:k},null);if(d==="loading")return o(ue,{class:B("loading"),size:y,type:w},null)},m=()=>{const{type:r,message:d}=e;if(t.message)return o("div",{class:B("text")},[t.message()]);if(G(d)&&d!=="")return r==="html"?o("div",{key:0,class:B("text"),innerHTML:String(d)},null):o("div",{class:B("text")},[d])};return T(()=>[e.show,e.forbidClick],a),T(()=>[e.show,e.type,e.message,e.duration],()=>{v(),e.show&&e.duration>0&&(s=setTimeout(()=>{l(!1)},e.duration))}),ce(a),$e(a),()=>o(fn,Z({class:[B([e.position,e.wordBreak==="normal"?"break-normal":e.wordBreak,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:u,onClosed:v,"onUpdate:show":l},De(e,yn)),{default:()=>[c(),m()]})}});function hn(){const e=Le({show:!1}),n=i=>{e.show=i},t=i=>{b(e,i,{transitionAppear:!0}),n(!0)},s=()=>n(!1);return re({open:t,close:s,toggle:n}),{open:t,close:s,state:e,toggle:n}}function kn(e){const n=Re(e),t=document.createElement("div");return document.body.appendChild(t),{instance:n.mount(t),unmount(){n.unmount(),document.body.removeChild(t)}}}const Cn={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let U=[],Sn=!1,Q=b({},Cn);const bn=new Map;function ve(e){return Ne(e)?e:{message:e}}function wn(){const{instance:e,unmount:n}=kn({setup(){const t=g(""),{open:s,state:i,close:a,toggle:l}=hn(),u=()=>{},v=()=>o(fe,Z(i,{onClosed:u,"onUpdate:show":l}),null);return T(t,c=>{i.message=c}),te().render=v,{open:s,close:a,message:t}}});return e}function xn(){if(!U.length||Sn){const e=wn();U.push(e)}return U[U.length-1]}function In(e={}){if(!Me)return{};const n=xn(),t=ve(e);return n.open(b({},Q,bn.get(t.type||Q.type),t)),n}const On=e=>n=>In(b({type:e},ve(n))),zn=On("loading");_(fe);const[ee,Bn]=A("space"),Pn={align:String,direction:{type:String,default:"horizontal"},size:{type:[Number,String,Array],default:8},wrap:Boolean,fill:Boolean};function me(e=[]){const n=[];return e.forEach(t=>{Array.isArray(t)?n.push(...t):t.type===X?n.push(...me(t.children)):n.push(t)}),n.filter(t=>{var s;return!(t&&(typeof Comment<"u"&&t.type===Comment||t.type===X&&((s=t.children)==null?void 0:s.length)===0||t.type===Text&&t.children.trim()===""))})}var Tn=O({name:ee,props:Pn,setup(e,{slots:n}){const t=j(()=>{var a;return(a=e.align)!=null?a:e.direction==="horizontal"?"center":""}),s=a=>typeof a=="number"?a+"px":a,i=a=>{const l={},u=`${s(Array.isArray(e.size)?e.size[0]:e.size)}`,v=`${s(Array.isArray(e.size)?e.size[1]:e.size)}`;return a?e.wrap?{marginBottom:v}:{}:(e.direction==="horizontal"&&(l.marginRight=u),(e.direction==="vertical"||e.wrap)&&(l.marginBottom=v),l)};return()=>{var a;const l=me((a=n.default)==null?void 0:a.call(n));return o("div",{class:[Bn({[e.direction]:e.direction,[`align-${t.value}`]:t.value,wrap:e.wrap,fill:e.fill})]},[l.map((u,v)=>o("div",{key:`item-${v}`,class:`${ee}-item`,style:i(v===l.length-1)},[u]))])}}});const ne=_(Tn);function An(){const e=Ue(),n=j(()=>e.count);function t(){e.increment()}return{count:n,handleClick:t}}const _n={getInfo(){return Ke.get("/demo/info")}};function En(){const e=g("-");async function n(){const t=zn({message:"\u52A0\u8F7D\u4E2D",duration:0,forbidClick:!0});try{const s=await _n.getInfo();e.value=s.title}finally{t.close()}}return Ye(()=>{n()}),{title:e}}const $n="view__KzK0f",Dn="section__BVOox",K={view:$n,section:Dn},Rn=O({name:je.INDEX.name,setup(){const e=An(),n=En();return{...e,...n}},render(){return o("div",{class:K.view},[o("h2",null,[this.title]),o("div",{class:K.section},[o("h3",null,[M("Store")]),o("p",null,[this.count]),o(Je,{type:"primary",onClick:this.handleClick},{default:()=>[M("\u70B9\u51FB")]})]),o("div",{class:K.section},[o("h3",null,[M("\u6846\u67B6\u56FE\u6807")]),o(ne,null,{default:()=>[o(I,{icon:"ant-design:account-book-filled"},null),o(I,{icon:"ant-design:aim-outlined"},null),o(I,{icon:"ant-design:alert-filled"},null)]})]),o("div",{class:K.section},[o("h3",null,[M("\u81EA\u5B9A\u4E49\u56FE\u6807")]),o(ne,null,{default:()=>[o(I,{icon:"custom:coffee"},null),o(I,{icon:"custom:chips"},null),o(I,{icon:"custom:ice-cream"},null),o(I,{icon:"custom-coke"},null),o(I,{icon:"custom-hamburg"},null)]})])])}});export{Rn as default};
