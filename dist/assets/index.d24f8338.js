import{i as Ce,u as ke,e as k,g as le,c as p,a as o,d as z,b as H,f as we,n as w,m as h,h as Oe,w as A,r as xe,j as Ie,B as ze,I as Z,t as B,k as K,l as y,o as Pe,p as ie,q as Be,s as T,v as Te,x as se,T as ce,y as pe,z as J,A as re,C as ue,D as Ae,E as de,F as _e,G as Ee,P as $e,H as De,J as W,K as Re,L as Le,M as Q,N as Me,O as Ne,Q as Ue,R as Ke,S as Ye,U as je,V as He,W as Xe,X as Fe,Y as Ve,Z as qe,_ as Ge,$ as q,a0 as E}from"./index.23f22299.js";Ce();const We=e=>e.stopPropagation();function ee(e,t){(typeof e.cancelable!="boolean"||e.cancelable)&&e.preventDefault(),t&&We(e)}ke();function fe(e){const t=le();t&&k(t.proxy,e)}const[Ze,L]=p("loading"),Je=Array(12).fill(null).map((e,t)=>o("i",{class:L("line",String(t+1))},null)),Qe=o("svg",{class:L("circular"),viewBox:"25 25 50 50"},[o("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),et={size:w,type:h("circular"),color:String,vertical:Boolean,textSize:w,textColor:String};var tt=z({name:Ze,props:et,setup(e,{slots:t}){const n=H(()=>k({color:e.color},we(e.size))),i=()=>{var a;if(t.default)return o("span",{class:L("text"),style:{fontSize:Oe(e.textSize),color:(a=e.textColor)!=null?a:e.color}},[t.default()])};return()=>{const{type:a,vertical:l}=e;return o("div",{class:L([a,{vertical:l}]),"aria-live":"polite","aria-busy":!0},[o("span",{class:L("spinner",a),style:n.value},[a==="spinner"?Je:Qe]),i()])}}});const ve=A(tt),[nt,P]=p("button"),ot=k({},xe,{tag:h("button"),text:String,icon:String,type:h("default"),size:h("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:h("button"),loadingSize:w,loadingText:String,loadingType:String,iconPosition:h("left")});var at=z({name:nt,props:ot,emits:["click"],setup(e,{emit:t,slots:n}){const i=Ie(),a=()=>n.loading?n.loading():o(ve,{size:e.loadingSize,type:e.loadingType,class:P("loading")},null),l=()=>{if(e.loading)return a();if(n.icon)return o("div",{class:P("icon")},[n.icon()]);if(e.icon)return o(Z,{name:e.icon,class:P("icon"),classPrefix:e.iconPrefix},null)},s=()=>{let c;if(e.loading?c=e.loadingText:c=n.default?n.default():e.text,c)return o("span",{class:P("text")},[c])},d=()=>{const{color:c,plain:r}=e;if(c){const u={color:r?c:"white"};return r||(u.background=c),c.includes("gradient")?u.border=0:u.borderColor=c,u}},v=c=>{e.loading?ee(c):e.disabled||(t("click",c),i())};return()=>{const{tag:c,type:r,size:u,block:m,round:g,plain:S,square:I,loading:O,disabled:M,hairline:N,nativeType:F,iconPosition:_}=e,f=[P([r,u,{plain:S,block:m,round:g,square:I,loading:O,disabled:M,hairline:N}]),{[ze]:N}];return o(c,{type:F,class:f,style:d(),disabled:M,onClick:v},{default:()=>[o("div",{class:P("content")},[_==="left"&&l(),s(),_==="right"&&l()])]})}}});const lt=A(at),it={show:Boolean,zIndex:w,overlay:B,duration:w,teleport:[String,Object],lockScroll:B,lazyRender:B,beforeClose:Function,overlayStyle:Object,overlayClass:K,transitionAppear:Boolean,closeOnClickOverlay:B};function st(e,t){return e>t?"horizontal":t>e?"vertical":""}function ct(){const e=y(0),t=y(0),n=y(0),i=y(0),a=y(0),l=y(0),s=y(""),d=()=>s.value==="vertical",v=()=>s.value==="horizontal",c=()=>{n.value=0,i.value=0,a.value=0,l.value=0,s.value=""};return{move:m=>{const g=m.touches[0];n.value=(g.clientX<0?0:g.clientX)-e.value,i.value=g.clientY-t.value,a.value=Math.abs(n.value),l.value=Math.abs(i.value);const S=10;(!s.value||a.value<S&&l.value<S)&&(s.value=st(a.value,l.value))},start:m=>{c(),e.value=m.touches[0].clientX,t.value=m.touches[0].clientY},reset:c,startX:e,startY:t,deltaX:n,deltaY:i,offsetX:a,offsetY:l,direction:s,isVertical:d,isHorizontal:v}}let $=0;const ne="van-overflow-hidden";function rt(e,t){const n=ct(),i="01",a="10",l=r=>{n.move(r);const u=n.deltaY.value>0?a:i,m=Te(r.target,e.value),{scrollHeight:g,offsetHeight:S,scrollTop:I}=m;let O="11";I===0?O=S>=g?"00":"01":I+S>=g&&(O="10"),O!=="11"&&n.isVertical()&&!(parseInt(O,2)&parseInt(u,2))&&ee(r,!0)},s=()=>{document.addEventListener("touchstart",n.start),document.addEventListener("touchmove",l,{passive:!1}),$||document.body.classList.add(ne),$++},d=()=>{$&&(document.removeEventListener("touchstart",n.start),document.removeEventListener("touchmove",l),$--,$||document.body.classList.remove(ne))},v=()=>t()&&s(),c=()=>t()&&d();Pe(v),ie(c),Be(c),T(t,r=>{r?s():d()})}function ye(e){const t=y(!1);return T(e,n=>{n&&(t.value=n)},{immediate:!0}),n=>()=>t.value?n():null}const[ut,dt]=p("overlay"),ft={show:Boolean,zIndex:w,duration:w,className:K,lockScroll:B,lazyRender:B,customStyle:Object};var vt=z({name:ut,props:ft,setup(e,{slots:t}){const n=y(),i=ye(()=>e.show||!e.lazyRender),a=s=>{e.lockScroll&&ee(s,!0)},l=i(()=>{var s;const d=k(pe(e.zIndex),e.customStyle);return J(e.duration)&&(d.animationDuration=`${e.duration}s`),re(o("div",{ref:n,style:d,class:[dt(),e.className]},[(s=t.default)==null?void 0:s.call(t)]),[[ue,e.show]])});return se("touchmove",a,{target:n}),()=>o(ce,{name:"van-fade",appear:!0},{default:l})}});const yt=A(vt),mt=k({},it,{round:Boolean,position:h("center"),closeIcon:h("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:h("top-right"),safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[gt,oe]=p("popup");var ht=z({name:gt,inheritAttrs:!1,props:mt,emits:["open","close","opened","closed","keydown","update:show","click-overlay","click-close-icon"],setup(e,{emit:t,attrs:n,slots:i}){let a,l;const s=y(),d=y(),v=ye(()=>e.show||!e.lazyRender),c=H(()=>{const f={zIndex:s.value};if(J(e.duration)){const x=e.position==="center"?"animationDuration":"transitionDuration";f[x]=`${e.duration}s`}return f}),r=()=>{a||(a=!0,s.value=e.zIndex!==void 0?+e.zIndex:Re(),t("open"))},u=()=>{a&&Le(e.beforeClose,{done(){a=!1,t("close"),t("update:show",!1)}})},m=f=>{t("click-overlay",f),e.closeOnClickOverlay&&u()},g=()=>{if(e.overlay)return o(yt,{show:e.show,class:e.overlayClass,zIndex:s.value,duration:e.duration,customStyle:e.overlayStyle,role:e.closeOnClickOverlay?"button":void 0,tabindex:e.closeOnClickOverlay?0:void 0,onClick:m},{default:i["overlay-content"]})},S=f=>{t("click-close-icon",f),u()},I=()=>{if(e.closeable)return o(Z,{role:"button",tabindex:0,name:e.closeIcon,class:[oe("close-icon",e.closeIconPosition),Me],classPrefix:e.iconPrefix,onClick:S},null)},O=()=>t("opened"),M=()=>t("closed"),N=f=>t("keydown",f),F=v(()=>{var f;const{round:x,position:U,safeAreaInsetTop:V,safeAreaInsetBottom:be}=e;return re(o("div",Q({ref:d,style:c.value,role:"dialog",tabindex:0,class:[oe({round:x,[U]:U}),{"van-safe-area-top":V,"van-safe-area-bottom":be}],onKeydown:N},n),[(f=i.default)==null?void 0:f.call(i),I()]),[[ue,e.show]])}),_=()=>{const{position:f,transition:x,transitionAppear:U}=e,V=f==="center"?"van-fade":`van-popup-slide-${f}`;return o(ce,{name:x||V,appear:U,onAfterEnter:O,onAfterLeave:M},{default:F})};return T(()=>e.show,f=>{f&&!a&&(r(),n.tabindex===0&&Ae(()=>{var x;(x=d.value)==null||x.focus()})),!f&&a&&(a=!1,t("close"))}),fe({popupRef:d}),rt(d,()=>e.show&&e.lockScroll),se("popstate",()=>{e.closeOnPopstate&&(u(),l=!1)}),de(()=>{e.show&&r()}),_e(()=>{l&&(t("update:show",!0),l=!1)}),ie(()=>{e.show&&e.teleport&&(u(),l=!0)}),Ee($e,()=>e.show),()=>e.teleport?o(De,{to:e.teleport},{default:()=>[g(),_()]}):o(W,null,[g(),_()])}});const St=A(ht);function bt(){const e=Ue({show:!1}),t=a=>{e.show=a},n=a=>{k(e,a,{transitionAppear:!0}),t(!0)},i=()=>t(!1);return fe({open:n,close:i,toggle:t}),{open:n,close:i,state:e,toggle:t}}function Ct(e){const t=Ne(e),n=document.createElement("div");return document.body.appendChild(n),{instance:t.mount(n),unmount(){t.unmount(),document.body.removeChild(n)}}}let D=0;function kt(e){e?(D||document.body.classList.add("van-toast--unclickable"),D++):D&&(D--,D||document.body.classList.remove("van-toast--unclickable"))}const[wt,R]=p("toast"),Ot=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay"],xt={icon:String,show:Boolean,type:h("text"),overlay:Boolean,message:w,iconSize:w,duration:je(2e3),position:h("middle"),teleport:[String,Object],className:K,iconPrefix:String,transition:h("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:K,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean};var me=z({name:wt,props:xt,emits:["update:show"],setup(e,{emit:t}){let n,i=!1;const a=()=>{const r=e.show&&e.forbidClick;i!==r&&(i=r,kt(i))},l=r=>t("update:show",r),s=()=>{e.closeOnClick&&l(!1)},d=()=>clearTimeout(n),v=()=>{const{icon:r,type:u,iconSize:m,iconPrefix:g,loadingType:S}=e;if(r||u==="success"||u==="fail")return o(Z,{name:r||u,size:m,class:R("icon"),classPrefix:g},null);if(u==="loading")return o(ve,{class:R("loading"),size:m,type:S},null)},c=()=>{const{type:r,message:u}=e;if(J(u)&&u!=="")return r==="html"?o("div",{key:0,class:R("text"),innerHTML:String(u)},null):o("div",{class:R("text")},[u])};return T(()=>[e.show,e.forbidClick],a),T(()=>[e.show,e.type,e.message,e.duration],()=>{d(),e.show&&e.duration>0&&(n=setTimeout(()=>{l(!1)},e.duration))}),de(a),Ke(a),()=>o(St,Q({class:[R([e.position,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:s,onClosed:d,"onUpdate:show":l},Ye(e,Ot)),{default:()=>[v(),c()]})}});const ge={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let b=[],X=!1,Y=k({},ge);const j=new Map;function he(e){return Xe(e)?e:{message:e}}function It(){const{instance:e,unmount:t}=Ct({setup(){const n=y(""),{open:i,state:a,close:l,toggle:s}=bt(),d=()=>{X&&(b=b.filter(c=>c!==e),t())},v=()=>o(me,Q(a,{onClosed:d,"onUpdate:show":s}),null);return T(n,c=>{a.message=c}),le().render=v,{open:i,clear:l,message:n}}});return e}function zt(){if(!b.length||X){const e=It();b.push(e)}return b[b.length-1]}function C(e={}){if(!He)return{};const t=zt(),n=he(e);return t.open(k({},Y,j.get(n.type||Y.type),n)),t}const te=e=>t=>C(k({type:e},he(t)));C.loading=te("loading");C.success=te("success");C.fail=te("fail");C.clear=e=>{var t;b.length&&(e?(b.forEach(n=>{n.clear()}),b=[]):X?(t=b.shift())==null||t.clear():b[0].clear())};function Pt(e,t){typeof e=="string"?j.set(e,t):k(Y,e)}C.setDefaultOptions=Pt;C.resetDefaultOptions=e=>{typeof e=="string"?j.delete(e):(Y=k({},ge),j.clear())};C.allowMultiple=(e=!0)=>{X=e};C.install=e=>{e.use(A(me)),e.config.globalProperties.$toast=C};const[ae,Bt]=p("space"),Tt={align:String,direction:{type:String,default:"horizontal"},size:{type:[Number,String,Array],default:8},wrap:Boolean,fill:Boolean};function Se(e=[]){const t=[];return e.forEach(n=>{Array.isArray(n)?t.push(...n):n.type===W?t.push(...Se(n.children)):t.push(n)}),t.filter(n=>{var i;return!(n&&(typeof Comment<"u"&&n.type===Comment||n.type===W&&((i=n.children)==null?void 0:i.length)===0||n.type===Text&&n.children.trim()===""))})}var pt=z({name:ae,props:Tt,setup(e,{slots:t}){const n=H(()=>{var l;return(l=e.align)!=null?l:e.direction==="horizontal"?"center":""}),i=l=>typeof l=="number"?l+"px":l,a=l=>{const s={},d=`${i(Array.isArray(e.size)?e.size[0]:e.size)}`,v=`${i(Array.isArray(e.size)?e.size[1]:e.size)}`;return l?e.wrap?{marginBottom:v}:{}:(e.direction==="horizontal"&&(s.marginRight=d),(e.direction==="vertical"||e.wrap)&&(s.marginBottom=v),s)};return()=>{var l;const s=Se((l=t.default)==null?void 0:l.call(t));return o("div",{class:[Bt({[e.direction]:e.direction,[`align-${n.value}`]:n.value,wrap:e.wrap,fill:e.fill})]},[s.map((d,v)=>o("div",{key:`item-${v}`,class:`${ae}-item`,style:a(v===s.length-1)},[d]))])}}});const At=A(pt);function _t(e){const t=y({});function n(){t.value=C.loading(e)}function i(){t.value.clear()}return{start:n,clear:i}}function Et(){const e=Fe(),t=H(()=>e.count);function n(){e.increment()}return{count:t,handleClick:n}}const $t={getInfo(){return Ve.get("/demo/info")}};function Dt(){const e=y("-");async function t(){const{start:n,clear:i}=_t({message:"\u52A0\u8F7D\u4E2D",duration:0,forbidClick:!0});try{n();const a=await $t.getInfo();e.value=a.title}finally{i()}}return qe(()=>{t()}),{title:e}}const Rt="view__KzK0f",Lt="section__BVOox",G={view:Rt,section:Lt},Nt=z({name:Ge.INDEX.name,setup(){const{...e}=Et(),{...t}=Dt();return{...e,...t}},render(){return o("div",{class:G.view},[o("h2",null,[this.title]),o("div",{class:G.section},[o("h3",null,[q("Store")]),o("p",null,[this.count]),o(lt,{type:"primary",onClick:this.handleClick},{default:()=>[q("\u70B9\u51FB")]})]),o("div",{class:G.section},[o("h3",null,[q("\u81EA\u5B9A\u4E49\u56FE\u6807")]),o(At,null,{default:()=>[o(E,{icon:"custom:coffee"},null),o(E,{icon:"custom:chips"},null),o(E,{icon:"custom:ice-cream"},null),o(E,{icon:"custom-coke"},null),o(E,{icon:"custom-hamburg"},null)]})])])}});export{Nt as default};
