!function(){function e(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function t(t){for(var n=1;n<arguments.length;n++){var l=null!=arguments[n]?arguments[n]:{};n%2?e(Object(l),!0).forEach((function(e){o(t,e,l[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(l)):e(Object(l)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(l,e))}))}return t}function o(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function n(e,t,o,n,l,a,i){try{var s=e[a](i),r=s.value}catch(c){return void o(c)}s.done?t(r):Promise.resolve(r).then(n,l)}function l(e){return function(){var t=this,o=arguments;return new Promise((function(l,a){var i=e.apply(t,o);function s(e){n(i,l,a,s,r,"next",e)}function r(e){n(i,l,a,s,r,"throw",e)}s(void 0)}))}}var a=document.createElement("style");a.innerHTML=".view__KzK0f{display:flex;align-items:center;justify-content:center;flex-flow:column nowrap;min-height:100vh;padding-bottom:16vw;box-sizing:border-box}\n",document.head.appendChild(a),System.register(["./index-legacy.e634db42.js"],(function(e){"use strict";var o,n,a,i,s,r,c,u,d,p,v,f,y,g,m,h,b,w,x,O,S,k,C,z,P,B,j,I,T,A,D,E,L,X,M,N,Y,H,K,R,_,q,$,U,V,F,G,J,Q,W,Z,ee,te;return{setters:[function(e){o=e.i,n=e.u,a=e.e,i=e.g,s=e.c,r=e.a,c=e.d,u=e.b,d=e.f,p=e.n,v=e.m,f=e.h,y=e.w,g=e.r,m=e.j,h=e.B,b=e.I,w=e.t,x=e.k,O=e.l,S=e.o,k=e.p,C=e.q,z=e.s,P=e.v,B=e.T,j=e.x,I=e.y,T=e.z,A=e.A,D=e.C,E=e.D,L=e.E,X=e.F,M=e.G,N=e.H,Y=e.J,H=e.K,K=e.L,R=e.M,_=e.N,q=e.O,$=e.P,U=e.Q,V=e.R,F=e.S,G=e.U,J=e.V,Q=e.W,W=e.X,Z=e.Y,ee=e.Z,te=e._}],execute:function(){o();function oe(e,t){("boolean"!=typeof e.cancelable||e.cancelable)&&e.preventDefault(),t&&(e=>{e.stopPropagation()})(e)}function ne(e){const t=i();t&&a(t.proxy,e)}n();const[le,ae]=s("loading"),ie=Array(12).fill(null).map(((e,t)=>r("i",{class:ae("line",String(t+1))},null))),se=r("svg",{class:ae("circular"),viewBox:"25 25 50 50"},[r("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),re={size:p,type:v("circular"),color:String,vertical:Boolean,textSize:p,textColor:String};var ce=c({name:le,props:re,setup(e,{slots:t}){const o=u((()=>a({color:e.color},d(e.size)))),n=()=>{var o;if(t.default)return r("span",{class:ae("text"),style:{fontSize:f(e.textSize),color:null!=(o=e.textColor)?o:e.color}},[t.default()])};return()=>{const{type:t,vertical:l}=e;return r("div",{class:ae([t,{vertical:l}]),"aria-live":"polite","aria-busy":!0},[r("span",{class:ae("spinner",t),style:o.value},["spinner"===t?ie:se]),n()])}}});const ue=y(ce),[de,pe]=s("button"),ve=a({},g,{tag:v("button"),text:String,icon:String,type:v("default"),size:v("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:v("button"),loadingSize:p,loadingText:String,loadingType:String,iconPosition:v("left")});var fe=c({name:de,props:ve,emits:["click"],setup(e,{emit:t,slots:o}){const n=m(),l=()=>e.loading?o.loading?o.loading():r(ue,{size:e.loadingSize,type:e.loadingType,class:pe("loading")},null):o.icon?r("div",{class:pe("icon")},[o.icon()]):e.icon?r(b,{name:e.icon,class:pe("icon"),classPrefix:e.iconPrefix},null):void 0,a=()=>{let t;if(t=e.loading?e.loadingText:o.default?o.default():e.text,t)return r("span",{class:pe("text")},[t])},i=()=>{const{color:t,plain:o}=e;if(t){const e={color:o?t:"white"};return o||(e.background=t),t.includes("gradient")?e.border=0:e.borderColor=t,e}},s=o=>{e.loading?oe(o):e.disabled||(t("click",o),n())};return()=>{const{tag:t,type:o,size:n,block:c,round:u,plain:d,square:p,loading:v,disabled:f,hairline:y,nativeType:g,iconPosition:m}=e,b=[pe([o,n,{plain:d,block:c,round:u,square:p,loading:v,disabled:f,hairline:y}]),{[h]:y}];return r(t,{type:g,class:b,style:i(),disabled:f,onClick:s},{default:()=>[r("div",{class:pe("content")},["left"===m&&l(),a(),"right"===m&&l()])]})}}});const ye=y(fe),ge={show:Boolean,zIndex:p,overlay:w,duration:p,teleport:[String,Object],lockScroll:w,lazyRender:w,beforeClose:Function,overlayStyle:Object,overlayClass:x,transitionAppear:Boolean,closeOnClickOverlay:w};let me=0;const he="van-overflow-hidden";function be(e,t){const o=function(){const e=O(0),t=O(0),o=O(0),n=O(0),l=O(0),a=O(0),i=O(""),s=()=>{o.value=0,n.value=0,l.value=0,a.value=0,i.value=""};return{move:s=>{const r=s.touches[0];var c,u;o.value=(r.clientX<0?0:r.clientX)-e.value,n.value=r.clientY-t.value,l.value=Math.abs(o.value),a.value=Math.abs(n.value),(!i.value||l.value<10&&a.value<10)&&(i.value=(c=l.value)>(u=a.value)?"horizontal":u>c?"vertical":"")},start:o=>{s(),e.value=o.touches[0].clientX,t.value=o.touches[0].clientY},reset:s,startX:e,startY:t,deltaX:o,deltaY:n,offsetX:l,offsetY:a,direction:i,isVertical:()=>"vertical"===i.value,isHorizontal:()=>"horizontal"===i.value}}(),n=t=>{o.move(t);const n=o.deltaY.value>0?"10":"01",l=P(t.target,e.value),{scrollHeight:a,offsetHeight:i,scrollTop:s}=l;let r="11";0===s?r=i>=a?"00":"01":s+i>=a&&(r="10"),"11"===r||!o.isVertical()||parseInt(r,2)&parseInt(n,2)||oe(t,!0)},l=()=>{document.addEventListener("touchstart",o.start),document.addEventListener("touchmove",n,{passive:!1}),me||document.body.classList.add(he),me++},a=()=>{me&&(document.removeEventListener("touchstart",o.start),document.removeEventListener("touchmove",n),me--,me||document.body.classList.remove(he))},i=()=>t()&&a();S((()=>t()&&l())),k(i),C(i),z(t,(e=>{e?l():a()}))}function we(e){const t=O(!1);return z(e,(e=>{e&&(t.value=e)}),{immediate:!0}),e=>()=>t.value?e():null}const xe=Symbol(),[Oe,Se]=s("overlay"),ke={show:Boolean,zIndex:p,duration:p,className:x,lockScroll:w,lazyRender:w,customStyle:Object};var Ce=c({name:Oe,props:ke,setup(e,{slots:t}){const o=we((()=>e.show||!e.lazyRender)),n=e=>{oe(e,!0)},l=o((()=>{var o;const l=a(j(e.zIndex),e.customStyle);return I(e.duration)&&(l.animationDuration=`${e.duration}s`),T(r("div",{style:l,class:[Se(),e.className],onTouchmove:e.lockScroll?n:D},[null==(o=t.default)?void 0:o.call(t)]),[[A,e.show]])}));return()=>r(B,{name:"van-fade",appear:!0},{default:l})}});const ze=y(Ce),Pe=a({},ge,{round:Boolean,position:v("center"),closeIcon:v("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:v("top-right"),safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[Be,je]=s("popup");let Ie=2e3;var Te=c({name:Be,inheritAttrs:!1,props:Pe,emits:["open","close","opened","closed","keydown","update:show","click-overlay","click-close-icon"],setup(e,{emit:t,attrs:o,slots:n}){let l,a;const i=O(),s=O(),c=we((()=>e.show||!e.lazyRender)),d=u((()=>{const t={zIndex:i.value};if(I(e.duration)){t["center"===e.position?"animationDuration":"transitionDuration"]=`${e.duration}s`}return t})),p=()=>{l||(void 0!==e.zIndex&&(Ie=+e.zIndex),l=!0,i.value=++Ie,t("open"))},v=()=>{l&&K(e.beforeClose,{done(){l=!1,t("close"),t("update:show",!1)}})},f=o=>{t("click-overlay",o),e.closeOnClickOverlay&&v()},y=()=>{if(e.overlay)return r(ze,{show:e.show,class:e.overlayClass,zIndex:i.value,duration:e.duration,customStyle:e.overlayStyle,onClick:f},{default:n["overlay-content"]})},g=e=>{t("click-close-icon",e),v()},m=()=>{if(e.closeable)return r(b,{role:"button",tabindex:0,name:e.closeIcon,class:[je("close-icon",e.closeIconPosition),_],classPrefix:e.iconPrefix,onClick:g},null)},h=()=>t("opened"),w=()=>t("closed"),x=e=>t("keydown",e),S=c((()=>{var t;const{round:l,position:a,safeAreaInsetTop:i,safeAreaInsetBottom:c}=e;return T(r("div",R({ref:s,style:d.value,class:[je({round:l,[a]:a}),{"van-safe-area-top":i,"van-safe-area-bottom":c}],onKeydown:x},o),[null==(t=n.default)?void 0:t.call(n),m()]),[[A,e.show]])})),C=()=>{const{position:t,transition:o,transitionAppear:n}=e;return r(B,{name:o||("center"===t?"van-fade":`van-popup-slide-${t}`),appear:n,onAfterEnter:h,onAfterLeave:w},{default:S})};return z((()=>e.show),(e=>{e&&!l&&(p(),0===o.tabindex&&E((()=>{var e;null==(e=s.value)||e.focus()}))),!e&&l&&(l=!1,t("close"))})),ne({popupRef:s}),be(s,(()=>e.show&&e.lockScroll)),L("popstate",(()=>{e.closeOnPopstate&&(v(),a=!1)})),X((()=>{e.show&&p()})),M((()=>{a&&(t("update:show",!0),a=!1)})),k((()=>{e.show&&e.teleport&&(v(),a=!0)})),N(xe,(()=>e.show)),()=>e.teleport?r(Y,{to:e.teleport},{default:()=>[y(),C()]}):r(H,null,[y(),C()])}});const Ae=y(Te);let De=0;const[Ee,Le]=s("toast"),Xe=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay"],Me={icon:String,show:Boolean,type:v("text"),overlay:Boolean,message:p,iconSize:p,duration:F(2e3),position:v("middle"),teleport:[String,Object],className:x,iconPrefix:String,transition:v("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:x,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean};var Ne=c({name:Ee,props:Me,emits:["update:show"],setup(e,{emit:t}){let o,n=!1;const l=()=>{const t=e.show&&e.forbidClick;n!==t&&(n=t,n?(De||document.body.classList.add("van-toast--unclickable"),De++):De&&(De--,De||document.body.classList.remove("van-toast--unclickable")))},a=e=>t("update:show",e),i=()=>{e.closeOnClick&&a(!1)},s=()=>clearTimeout(o),c=()=>{const{icon:t,type:o,iconSize:n,iconPrefix:l,loadingType:a}=e;return t||"success"===o||"fail"===o?r(b,{name:t||o,size:n,class:Le("icon"),classPrefix:l},null):"loading"===o?r(ue,{class:Le("loading"),size:n,type:a},null):void 0},u=()=>{const{type:t,message:o}=e;if(I(o)&&""!==o)return"html"===t?r("div",{key:0,class:Le("text"),innerHTML:String(o)},null):r("div",{class:Le("text")},[o])};return z((()=>[e.show,e.forbidClick]),l),z((()=>[e.show,e.type,e.message,e.duration]),(()=>{s(),e.show&&e.duration>0&&(o=setTimeout((()=>{a(!1)}),e.duration))})),X(l),U(l),()=>r(Ae,R({class:[Le([e.position,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:i,onClosed:s,"onUpdate:show":a},V(e,Xe)),{default:()=>[c(),u()]})}});const Ye={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let He=[],Ke=!1,Re=a({},Ye);const _e=new Map;function qe(e){return J(e)?e:{message:e}}function $e(){const{instance:e,unmount:t}=function(e){const t=q(e),o=document.createElement("div");return document.body.appendChild(o),{instance:t.mount(o),unmount(){t.unmount(),document.body.removeChild(o)}}}({setup(){const o=O(""),{open:n,state:l,close:s,toggle:c}=function(){const e=$({show:!1}),t=t=>{e.show=t},o=o=>{a(e,o,{transitionAppear:!0}),t(!0)},n=()=>t(!1);return ne({open:o,close:n,toggle:t}),{open:o,close:n,state:e,toggle:t}}(),u=()=>{Ke&&(He=He.filter((t=>t!==e)),t())};return z(o,(e=>{l.message=e})),i().render=()=>r(Ne,R(l,{onClosed:u,"onUpdate:show":c}),null),{open:n,clear:s,message:o}}});return e}function Ue(e={}){if(!G)return{};const t=function(){if(!He.length||Ke){const e=$e();He.push(e)}return He[He.length-1]}(),o=qe(e);return t.open(a({},Re,_e.get(o.type||Re.type),o)),t}const Ve=e=>t=>Ue(a({type:e},qe(t)));function Fe(e){const t=O({});return{start:function(){t.value=Ue.loading(e)},clear:function(){t.value.clear()}}}function Ge(){const e=Q("main",{state:()=>({count:0}),actions:{add(){this.count++}}})();return{count:u((()=>e.count)),handleClick:function(){e.add()}}}Ue.loading=Ve("loading"),Ue.success=Ve("success"),Ue.fail=Ve("fail"),Ue.clear=e=>{var t;He.length&&(e?(He.forEach((e=>{e.clear()})),He=[]):Ke?null==(t=He.shift())||t.clear():He[0].clear())},Ue.setDefaultOptions=function(e,t){"string"==typeof e?_e.set(e,t):a(Re,e)},Ue.resetDefaultOptions=e=>{"string"==typeof e?_e.delete(e):(Re=a({},Ye),_e.clear())},Ue.allowMultiple=(e=!0)=>{Ke=e},Ue.install=e=>{e.use(y(Ne)),e.config.globalProperties.$toast=Ue};var Je={getInfo:()=>W.get("/demo/info")};function Qe(){const e=O("-");function t(){return(t=l((function*(){const{start:t,clear:o}=Fe({message:"加载中",duration:0,forbidClick:!0});try{t();const n=yield Je.getInfo();e.value=n.title}finally{o()}}))).apply(this,arguments)}return Z((()=>{!function(){t.apply(this,arguments)}()})),{title:e}}var We="view__KzK0f";e("default",c({name:ee.INDEX.name,setup(){const e=Ge(),o=Object.assign({},e),n=Qe(),l=Object.assign({},n);return t(t({},o),l)},render(){return r("div",{class:We},[r("h2",null,[this.title]),r("p",null,[this.count]),r(ye,{type:"primary",onClick:this.handleClick},{default:()=>[te("点击")]})])}}))}}}))}();
